[
  {
    "objectID": "Control flow & Functions.html",
    "href": "Control flow & Functions.html",
    "title": "Control Flow & Functions - ST 558",
    "section": "",
    "text": "First, we will start by reading in an existing .rda file, which has a version of the list I created in the last part of the previous homework.\n\nload(\"hw2_list.rda\")\nbp_list\n\n$treatment\n              patient pre_bp post_bp diff_bp normal\nSubject_1   Subject_1    120     127      -7  FALSE\nSubject_2   Subject_2    151     145       6  FALSE\nSubject_3   Subject_3    125     135     -10  FALSE\nSubject_4   Subject_4    126     122       4  FALSE\nSubject_5   Subject_5    115     115       0   TRUE\nSubject_6   Subject_6    132     122      10  FALSE\nSubject_7   Subject_7    132     123       9  FALSE\nSubject_8   Subject_8    129     126       3  FALSE\nSubject_9   Subject_9    134     126       8  FALSE\nSubject_10 Subject_10    139     129      10  FALSE\nSubject_11 Subject_11    127     132      -5  FALSE\nSubject_12 Subject_12    122     146     -24  FALSE\nSubject_13 Subject_13    127     120       7  FALSE\nSubject_14 Subject_14    135     114      21   TRUE\nSubject_15 Subject_15    133     121      12  FALSE\nSubject_16 Subject_16    128     120       8  FALSE\nSubject_17 Subject_17    147     128      19  FALSE\nSubject_18 Subject_18    138     120      18  FALSE\nSubject_19 Subject_19    140     133       7  FALSE\nSubject_20 Subject_20    132     115      17   TRUE\n\n$placebo\n      patient pre_bp post_bp diff_bp normal\n1   Subject_1    138     105      33   TRUE\n2   Subject_2    135     136      -1  FALSE\n3   Subject_3    147     123      24  FALSE\n4   Subject_4    117     130     -13  FALSE\n5   Subject_5    152     134      18  FALSE\n6   Subject_6    134     143      -9  FALSE\n7   Subject_7    114     135     -21  FALSE\n8   Subject_8    121     139     -18  FALSE\n9   Subject_9    131     120      11  FALSE\n10 Subject_10    130     124       6  FALSE\n\n\nNow, we will characterize the post-treatment blood pressure measurement as optimal, borderline, or high.\n\nbp_list$treatment$status &lt;- character(20)\n\nfor (i in 1:20) {\n  if (bp_list$treatment$post_bp[i] &lt;= 120){\n    bp_list$treatment$status[i] &lt;- \"optimal\"\n  } else if (bp_list$treatment$post_bp[i] &lt;= 130){\n    bp_list$treatment$status[i] &lt;- \"borderline\"\n  } else {\n    bp_list$treatment$status[i] &lt;- \"high\"\n  }\n}\n\nhead(bp_list$treatment)\n\n            patient pre_bp post_bp diff_bp normal     status\nSubject_1 Subject_1    120     127      -7  FALSE borderline\nSubject_2 Subject_2    151     145       6  FALSE       high\nSubject_3 Subject_3    125     135     -10  FALSE       high\nSubject_4 Subject_4    126     122       4  FALSE borderline\nSubject_5 Subject_5    115     115       0   TRUE    optimal\nSubject_6 Subject_6    132     122      10  FALSE borderline\n\n\nSimilarly, we will characterize the blood pressure measurements for the placebo data frame.\n\nbp_list$placebo$status &lt;- character(10)\n\nfor (i in 1:10) {\n  if (bp_list$placebo$post_bp[i] &lt;= 120){\n    bp_list$placebo$status[i] &lt;- \"optimal\"\n  } else if (bp_list$placebo$post_bp[i] &lt;= 130){\n    bp_list$placebo$status[i] &lt;- \"borderline\"\n  } else {\n    bp_list$placebo$status[i] &lt;- \"high\"\n  }\n}\n\nhead(bp_list$placebo)\n\n    patient pre_bp post_bp diff_bp normal     status\n1 Subject_1    138     105      33   TRUE    optimal\n2 Subject_2    135     136      -1  FALSE       high\n3 Subject_3    147     123      24  FALSE borderline\n4 Subject_4    117     130     -13  FALSE borderline\n5 Subject_5    152     134      18  FALSE       high\n6 Subject_6    134     143      -9  FALSE       high"
  },
  {
    "objectID": "Control flow & Functions.html#control-flow-practice",
    "href": "Control flow & Functions.html#control-flow-practice",
    "title": "Control Flow & Functions - ST 558",
    "section": "",
    "text": "First, we will start by reading in an existing .rda file, which has a version of the list I created in the last part of the previous homework.\n\nload(\"hw2_list.rda\")\nbp_list\n\n$treatment\n              patient pre_bp post_bp diff_bp normal\nSubject_1   Subject_1    120     127      -7  FALSE\nSubject_2   Subject_2    151     145       6  FALSE\nSubject_3   Subject_3    125     135     -10  FALSE\nSubject_4   Subject_4    126     122       4  FALSE\nSubject_5   Subject_5    115     115       0   TRUE\nSubject_6   Subject_6    132     122      10  FALSE\nSubject_7   Subject_7    132     123       9  FALSE\nSubject_8   Subject_8    129     126       3  FALSE\nSubject_9   Subject_9    134     126       8  FALSE\nSubject_10 Subject_10    139     129      10  FALSE\nSubject_11 Subject_11    127     132      -5  FALSE\nSubject_12 Subject_12    122     146     -24  FALSE\nSubject_13 Subject_13    127     120       7  FALSE\nSubject_14 Subject_14    135     114      21   TRUE\nSubject_15 Subject_15    133     121      12  FALSE\nSubject_16 Subject_16    128     120       8  FALSE\nSubject_17 Subject_17    147     128      19  FALSE\nSubject_18 Subject_18    138     120      18  FALSE\nSubject_19 Subject_19    140     133       7  FALSE\nSubject_20 Subject_20    132     115      17   TRUE\n\n$placebo\n      patient pre_bp post_bp diff_bp normal\n1   Subject_1    138     105      33   TRUE\n2   Subject_2    135     136      -1  FALSE\n3   Subject_3    147     123      24  FALSE\n4   Subject_4    117     130     -13  FALSE\n5   Subject_5    152     134      18  FALSE\n6   Subject_6    134     143      -9  FALSE\n7   Subject_7    114     135     -21  FALSE\n8   Subject_8    121     139     -18  FALSE\n9   Subject_9    131     120      11  FALSE\n10 Subject_10    130     124       6  FALSE\n\n\nNow, we will characterize the post-treatment blood pressure measurement as optimal, borderline, or high.\n\nbp_list$treatment$status &lt;- character(20)\n\nfor (i in 1:20) {\n  if (bp_list$treatment$post_bp[i] &lt;= 120){\n    bp_list$treatment$status[i] &lt;- \"optimal\"\n  } else if (bp_list$treatment$post_bp[i] &lt;= 130){\n    bp_list$treatment$status[i] &lt;- \"borderline\"\n  } else {\n    bp_list$treatment$status[i] &lt;- \"high\"\n  }\n}\n\nhead(bp_list$treatment)\n\n            patient pre_bp post_bp diff_bp normal     status\nSubject_1 Subject_1    120     127      -7  FALSE borderline\nSubject_2 Subject_2    151     145       6  FALSE       high\nSubject_3 Subject_3    125     135     -10  FALSE       high\nSubject_4 Subject_4    126     122       4  FALSE borderline\nSubject_5 Subject_5    115     115       0   TRUE    optimal\nSubject_6 Subject_6    132     122      10  FALSE borderline\n\n\nSimilarly, we will characterize the blood pressure measurements for the placebo data frame.\n\nbp_list$placebo$status &lt;- character(10)\n\nfor (i in 1:10) {\n  if (bp_list$placebo$post_bp[i] &lt;= 120){\n    bp_list$placebo$status[i] &lt;- \"optimal\"\n  } else if (bp_list$placebo$post_bp[i] &lt;= 130){\n    bp_list$placebo$status[i] &lt;- \"borderline\"\n  } else {\n    bp_list$placebo$status[i] &lt;- \"high\"\n  }\n}\n\nhead(bp_list$placebo)\n\n    patient pre_bp post_bp diff_bp normal     status\n1 Subject_1    138     105      33   TRUE    optimal\n2 Subject_2    135     136      -1  FALSE       high\n3 Subject_3    147     123      24  FALSE borderline\n4 Subject_4    117     130     -13  FALSE borderline\n5 Subject_5    152     134      18  FALSE       high\n6 Subject_6    134     143      -9  FALSE       high"
  },
  {
    "objectID": "Control flow & Functions.html#function-writing",
    "href": "Control flow & Functions.html#function-writing",
    "title": "Control Flow & Functions - ST 558",
    "section": "Function Writing",
    "text": "Function Writing\nHere, I will write a function that takes in a list with two data frames (treatment and placebo) as an argument, takes in an R function (with default value set to “mean”), and finds the statistic of interest for the pre, post, and diff columns of both data frames.\n\nsummarize_bp &lt;- function(bp_list, stat = \"mean\"){\n  my_fun &lt;- get(stat)\n  \n  treatment_pre &lt;- my_fun(bp_list$treatment$pre_bp)\n  treatment_post &lt;- my_fun(bp_list$treatment$post_bp)\n  treatment_diff &lt;- my_fun(bp_list$treatment$diff_bp)\n  \n  placebo_pre &lt;- my_fun(bp_list$placebo$pre_bp)\n  placebo_post &lt;- my_fun(bp_list$placebo$post_bp)\n  placebo_diff &lt;- my_fun(bp_list$placebo$diff_bp)\n  \n  # Vector with statistic values\n  results &lt;- c(treatment_pre, treatment_post, treatment_diff,\n               placebo_pre, placebo_post, placebo_diff)\n  \n  # Create vector of names\n  names(results) &lt;- c(\n    paste0(\"treatment_pre_\", stat),\n    paste0(\"treatment_post_\", stat),\n    paste0(\"treatment_diff_\", stat),\n    paste0(\"placebo_pre_\", stat),\n    paste0(\"placebo_post_\", stat),\n    paste0(\"placebo_diff_\", stat)\n  )\n  \n  return(results)\n}\n\nWith the function created, we will apply it to our list of data frames (treatment and placebo).\n\n# Without specifying the statistic (default is mean).\nsummarize_bp(bp_list)\n\n treatment_pre_mean treatment_post_mean treatment_diff_mean    placebo_pre_mean \n             131.60              125.95                5.65              131.90 \n  placebo_post_mean   placebo_diff_mean \n             128.90                3.00 \n\n# Specify var\nsummarize_bp(bp_list, \"var\")\n\n treatment_pre_var treatment_post_var treatment_diff_var    placebo_pre_var \n          75.72632           78.99737          117.81842          149.87778 \n  placebo_post_var   placebo_diff_var \n         124.98889          341.33333 \n\n# Specify sd\nsummarize_bp(bp_list, \"sd\")\n\n treatment_pre_sd treatment_post_sd treatment_diff_sd    placebo_pre_sd \n         8.702087          8.888046         10.854419         12.242458 \n  placebo_post_sd   placebo_diff_sd \n        11.179843         18.475209 \n\n# Specify min\nsummarize_bp(bp_list, \"min\")\n\n treatment_pre_min treatment_post_min treatment_diff_min    placebo_pre_min \n               115                114                -24                114 \n  placebo_post_min   placebo_diff_min \n               105                -21 \n\n# Specify max\nsummarize_bp(bp_list, \"max\")\n\n treatment_pre_max treatment_post_max treatment_diff_max    placebo_pre_max \n               151                146                 21                152 \n  placebo_post_max   placebo_diff_max \n               143                 33"
  }
]